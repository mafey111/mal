
Произвести установку почтового сервера Mail-in-a-Box  возможно только на Ubuntu, рекомендуется использовать версию 22.04 LTS, другие операционные системы не поддерживаются. Также важно использовать для этого чистую операционную систему.
## Предварительная настройка сервера

В процессе предварительной подготовки нам нужно задать правильное имя сервера, используя для этого FQDN:

```
hostnamectl set-hostname mail.example.kz 
```

Затем откроем файл /etc/hosts и приведем записи в нем к виду:

```
127.0.0.1 localhost
127.0.1.1 mail.example.kz
```

И правильно настроим часовой пояс:

```
timedatectl set-timezone Asia/Almaty
```

Получить список доступных поясов можно командой:

```
timedatectl list-timezones
```

На этом подготовка сервера закончена.

## Установка Mail-in-a-Box

Все указанные ниже команды должны выполняться от имени суперпользователя root, поэтому сразу повысим права:

```
sudo -i
```

Скачаем и сразу запустим скрипт установки:

```
curl -s https://mailinabox.email/setup.sh | bash
```


Первым делом вас попросят указать почтовый ящик для управления вашим сервером. вводим желаемое значение.

![[photo1.png]]

Затем имя хоста, штатно рекомендуется использовать box, однако в данном примере мы будем использовать собственное имя в формате FQDN.


![[photo2.png]]
 
 Далее происходит установка пакетов. По окончании установки вам будет предложено создать первый почтовый ящик, он же будет почтой и логином администратора. Если вы укажете здесь значение отличное от того, что вы ввели на первом шаге, то указанное в самом начале значение будет добавлено к первому ящику как алиас.

Photo3


На этом установка Mail-in-a-Box закончена.



